<!DOCTYPE html>
<html lang="en">
  <!-- Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-TTBPV2NSWE');
</script>

<head>
  <meta charset="UTF-8">
  <title>Fundraise Up GA Demo</title>
</head>
<body>

  <h1>Fundraise Up GA Integration Demo</h1>

  <!-- Button -->
  <a id="donate-button" href="#XJKDHSTQ">Donate Now</a>

  <!-- Fundraise Up Script -->
  <script>
    (function(w,d,s,n,a){if(!w[n]){var l='call,catch,on,once,set,then,track'
    .split(','),i,o=function(n){return'function'==typeof n?o.l.push([arguments])&&o
    :function(){return o.l.push([n,arguments])&&o}},t=d.getElementsByTagName(s)[0],
    j=d.createElement(s);j.async=!0;j.src='https://cdn.fundraiseup.com/widget/'+a;
    t.parentNode.insertBefore(j,t);o.s=Date.now();o.v=4;o.h=w.location.href;o.l=[];
    for(i=0;i<7;i++)o[l[i]]=o(l[i]);w[n]=o}
    })(window,document,'script','FundraiseUp','AEMZUDUM');
  </script>

  <!-- GA Tag manager snippet will be added here later -->

</body>

  <script>
  window.FundraiseUp = window.FundraiseUp || function() {
    (window.FundraiseUp.q = window.FundraiseUp.q || []).push(arguments);
  };

  // Listen for the checkout being opened
  FundraiseUp('on', 'checkoutOpen', function() {
    // When the checkout opens, send event to GA4
    if (typeof gtag === 'function') {
      gtag('event', 'donate_button_click', {
        event_category: 'engagement',
        event_label: 'FundraiseUp Checkout Opened',
      });
    }
  });
</script>

</html>
